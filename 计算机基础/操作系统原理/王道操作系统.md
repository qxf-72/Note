
# 计算机系统概述

## OS 基本概念

### 操作系统概念

计算机系统自底向上分为：
- 硬件
- 操作系统
- 应用程序
- 用户

操作系统 是控制和管理整个计算机系统的硬件和软件资源，合理的组织、调度计算机的工作与资源的分配，从而为用户和其他软件提供方便接口与环境的**程序集合**。操作系统是计算机系统中**最基本的系统软件**。


---


<br/>


<br/>



### 操作系统特征

操作系统作为系统软件和其他系统软件、应用软件有很大的不同。

**并发**
- 并发：同一**时间间隔**内完成两个或多个事件。通过分时实现。
- 并行：同一**时刻**能完成两种或多重工作。需要有相关硬件的支持。

<br/>


**共享**
- 互斥共享方式：一段时间内只允许一个进程访问资源（临界资源）。
- 同时访问方式：匀速在一段时间内被多个进行同时共享，在微观上，可以是通过分时共享实现。

<span style="background:#fff88f">互斥共享要求一种资源在一段时间（哪怕很短）只能满足一个要求。同时访问共享通常将一个请求分为几个时间片段完成。</span>


<br/>


**虚拟**

将一个物理的实体变成若干个逻辑上的对应物。
- 时分复用技术：虚拟化 CPU
- 空分复用技术：虚拟化存储器。

<br/>

**异步**

多道程序环境允许多个程序并发执行，但由于资源有限，执行并不是一贯到底，而是走走停停，以不可预知的速度推进。

---


<br/>


<br/>

### 操作系统目标与功能

**OS 作为计算机系统资源的管理者**

- 处理机管理 ：CPU 的分配和运行都是一个进程（线程）为基本单位的，处理机管理可以归结于进程管理，包括进程控制、同步、通信、死锁处理、CPU 调度等。
- 存储器管理：**内存**分配与回收、地址映射、内存保护与共享等。
- 文件管理：文件存储空间的管理、目录关键、文件读写管理和保护等。
- 设备管理：缓存管理、设备分配、设备处理、虚拟设备等。


<br/>

**OS 作为用户与计算机硬件系统之间的接口**

- 命令接口：**用户**利用其来组织和控制作业的执行
	- 联机命令接口（交互式命令接口）：用户通过控制台或终端输入操作系统命令。用户输入命令，控制权交给 OS 的命令解释程序，完成命令执行后，控制权教会控制台或终端，用户可以继续输入下一条命令。
	- 脱机命令接口（批处理命令接口）
- 程序接口：**编程人员**可以使用其请求操作系统服务。程序接口由一组**系统调用**组成，用户通过系统调用可以使用各种外部设备、申请分配和回收内存等。


<br/>

**OS 实现了对计算机资源的扩充**

没有任何软件支持的计算机称为裸机，金钩翅计算机系统的物质基础。OS 可以将裸机改造成 功能更强使用更方便的机器，覆盖了软件的机器称为扩充机器或虚拟机。


---


<br/>


<br/>


<br/>

## OS 发展历程

### 手工操作阶段（无 OS ）

用户在计算机上的**所有工作都需要人工干预**，如 程序装入、运行结果输入等。随着计算机硬件的发展，人机矛盾越来越大。手工操作阶段的两个突出缺点：
- 用户独占全机：资源利用率低
- CPU 需要等待手工操作：CPU 利用不充分


---

<br/>


<br/>


### 批处理阶段（OS 开始出现）

为了解决人机矛盾以及 CPU 和 IO 设备之间速度不匹配之间的矛盾，出现了批处理系统。

**单道批处理系统**

将一批作业以脱机方式输入磁带，并在系统中配上监督程序，在其控制下，作业一个接一个的连续处理。
- 自动性：无须人工干预
- 顺序性：顺序进入内存，先调入内存的作业先完成
- 单道性：内存中仅有一道程序运行

每次主机**内存中仅存放一道程序**，当其在运行期间发出 IO 请求，边处于**等待低速 IO 请求完成**的状态。


<br/>


**多道批处理系统**

在**多道程序设计技术**出现以后出现。所有作业存放在外存中排成一个队列，作业调度程序从队列中选择若干个作业调入内存，它们在管理程序的控制下相互穿插运行，共享系统的各种软硬件资源。
- 多道：内存中同时存放多道程序
- 宏观上并行
- 微观上串行

优点是资源利用率高，系统吞吐量大。缺点是用户响应时间较长，不提供人机交互能力，用户既不能俩家自己程序运行情况，又不能控制计算机。


---


<br/>


<br/>


### 分时操作系统

多个用户通过终端同时共享一台主机。分时系统也是致辞多道程序设计的系统，不同于多道批处理系统，**多道批处理系统实现作业自动控制而无须人工干预，分时系统是实现人机交互的系统**。
- 同时性：多个用户同时使用一台计算机
- 交互性：用户通过终端采用人机交互凡事控制程序运行
- 独立性：多个用户彼此独立进行操作，互不干扰
- 及时性


---


<br/>


<br/>

### 实时操作系统

在某个时间限制内完成某些紧急任务而不需要时间片排队。
- 硬实时系统：某个动作必须绝对的在规定时刻（或规定的时间范围）发生，如飞行器的自动控制系统。
- 软实时系统：能够接受偶尔违反时间规定，如飞机订票系统、银行管理系统。


---


<br/>


<br/>


### 网络操作系统与分布式计算机系统

**网络操作系统**

将计算机网络中各台计算机结合起来，实现各台计算之间的数据相互传送。最主要特点是网**络中各种资源的共享以及计算机之间的通信**。


<br/>

**分布式计算机系统**

- 计算机通过通信方式交换信息
- 每台计算机具有同等地位
- 每台计算机上的资源为所有用户共享
- **任何工作都可以分布几台计算机上**，由它们并行工作、协同完成

---


<br/>


<br/>

### 个人计算机操作系统

使用最广泛的 OS，有 Windows、Linux、MacOS 等。

操作系统发展历程如下：

<center>
<img src="https://picture-in-md.oss-cn-guangzhou.aliyuncs.com/2024-07-11_103657.jpg" width="600" />
</center>


---



<br/>


<br/>


<br/>


## OS 运行环境

### CPU 运行模式

